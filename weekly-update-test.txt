Weekly Update Job Test
Test started at: 2025-06-23T21:14:18.900Z

Starting weekly update job test...

API Key exists: true
API Key length: 164

Current week: June 23, 2025 to June 29, 2025

Calling fetchAndStoreActivities method...
❌ Error testing weekly update job:
ValidationError: Activities validation failed: categories.0.events.0.time: Path `time` is required., categories.0.events.0.venue: Path `venue` is required., categories.0.events.1.date: Path `date` is required., categories.0.events.1.time: Path `time` is required., categories.0.events.1.venue: Path `venue` is required., categories.0.events.2.date: Path `date` is required., categories.0.events.2.time: Path `time` is required., categories.0.events.2.venue: Path `venue` is required., categories.0.events.3.time: Path `time` is required., categories.0.events.3.venue: Path `venue` is required., categories.0.events.4.date: Path `date` is required., categories.0.events.4.time: Path `time` is required., categories.0.events.5.date: Path `date` is required., categories.0.events.5.time: Path `time` is required., categories.0.events.5.venue: Path `venue` is required., categories.0.events.6.date: Path `date` is required., categories.0.events.6.time: Path `time` is required., categories.0.events.6.venue: Path `venue` is required., categories.0.events.7.date: Path `date` is required., categories.0.events.7.time: Path `time` is required., categories.0.events.7.venue: Path `venue` is required., categories.0.events.8.date: Path `date` is required., categories.0.events.8.time: Path `time` is required., categories.0.events.8.venue: Path `venue` is required., categories.0.events.9.date: Path `date` is required., categories.0.events.9.time: Path `time` is required., categories.0.events.9.venue: Path `venue` is required., categories.0.events.10.date: Path `date` is required., categories.0.events.10.time: Path `time` is required., categories.0.events.10.venue: Path `venue` is required., categories.0.events.11.date: Path `date` is required., categories.0.events.11.time: Path `time` is required., categories.0.events.11.venue: Path `venue` is required., categories.1.events.0.time: Path `time` is required., categories.1.events.0.venue: Path `venue` is required., categories.1.events.1.date: Path `date` is required., categories.1.events.1.time: Path `time` is required., categories.1.events.1.venue: Path `venue` is required., categories.1.events.2.date: Path `date` is required., categories.1.events.2.time: Path `time` is required., categories.1.events.2.venue: Path `venue` is required., categories.1.events.3.time: Path `time` is required., categories.1.events.3.venue: Path `venue` is required., categories.1.events.4.date: Path `date` is required., categories.1.events.4.time: Path `time` is required., categories.1.events.5.date: Path `date` is required., categories.1.events.5.time: Path `time` is required., categories.1.events.5.venue: Path `venue` is required., categories.1.events.6.date: Path `date` is required., categories.1.events.6.time: Path `time` is required., categories.1.events.6.venue: Path `venue` is required., categories.1.events.7.date: Path `date` is required., categories.1.events.7.time: Path `time` is required., categories.1.events.7.venue: Path `venue` is required., categories.1.events.8.date: Path `date` is required., categories.1.events.8.time: Path `time` is required., categories.1.events.8.venue: Path `venue` is required., categories.1.events.9.date: Path `date` is required., categories.1.events.9.time: Path `time` is required., categories.1.events.9.venue: Path `venue` is required., categories.1.events.10.date: Path `date` is required., categories.1.events.10.time: Path `time` is required., categories.1.events.10.venue: Path `venue` is required., categories.1.events.11.date: Path `date` is required., categories.1.events.11.time: Path `time` is required., categories.1.events.11.venue: Path `venue` is required.
    at Document.invalidate (/Users/brettkessler/Desktop/des-moines-activities/node_modules/mongoose/lib/document.js:3219:32)
    at Subdocument.invalidate (/Users/brettkessler/Desktop/des-moines-activities/node_modules/mongoose/lib/types/subdocument.js:229:12)
    at Subdocument.invalidate (/Users/brettkessler/Desktop/des-moines-activities/node_modules/mongoose/lib/types/subdocument.js:229:12)
    at /Users/brettkessler/Desktop/des-moines-activities/node_modules/mongoose/lib/document.js:3012:17
    at /Users/brettkessler/Desktop/des-moines-activities/node_modules/mongoose/lib/schematype.js:1368:9
    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)

